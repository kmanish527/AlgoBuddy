function d(){chrome.runtime.sendMessage({message:"leetCodeProblemLoaded"})}let i=location.href;new MutationObserver(()=>{location.href!==i&&(i=location.href,d())}).observe(document,{subtree:!0,childList:!0});d();d();chrome.runtime.onMessage.addListener((o,n,e)=>{o.message==="getHint"&&(console.log("AlgoBuddy: Timer finished. Fetching hint."),l())});async function l(){var t;const o=(t=document.querySelector('meta[name="description"]'))==null?void 0:t.content;if(!o)return;const n=await fetch("http://localhost:8080/api/buddy/process",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({problem:o,currentSolution:"",operation:"Hint"})});if(!n.ok)return;const e=await n.text();c(e)}function c(o){const n=document.getElementById("algobuddy-hint-popup");n&&n.remove();const e=document.createElement("div");e.id="algobuddy-hint-popup",e.innerHTML=`
    <div class="algobuddy-header">
      <strong>AlgoBuddy Hint</strong>
      <button id="algobuddy-close-btn">&times;</button>
    </div>
    <div class="algobuddy-content">${o}</div>
  `,e.style.position="fixed",e.style.top="20px",e.style.right="20px",e.style.width="300px",e.style.backgroundColor="#2a2a40",e.style.color="#f3f3f3",e.style.border="1px solid #444",e.style.borderRadius="8px",e.style.zIndex="9999",e.style.boxShadow="0 4px 12px rgba(0,0,0,0.4)";const t=e.querySelector(".algobuddy-header");t.style.display="flex",t.style.justifyContent="space-between",t.style.padding="8px 12px",t.style.backgroundColor="#3a3a50";const r=e.querySelector(".algobuddy-content");r.style.padding="12px";const s=e.querySelector("#algobuddy-close-btn");s.style.background="none",s.style.border="none",s.style.color="#f3f3f3",s.style.fontSize="20px",s.style.cursor="pointer",document.body.appendChild(e),s.addEventListener("click",()=>{e.remove()})}
